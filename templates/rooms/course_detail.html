{% comment %} Author: Angie (Original Logic) / Oju (RT Refactor) {% endcomment %}
{% comment %} HTMX: This page uses WebSockets (not HTMX) to receive real-time updates. When another user creates a new thread in this course room, it appears instantly at the top of the "Threads" list without needing a page refresh. {% endcomment %}

{% extends "base.html" %}

{% block content %}
<div class="content-wrapper" id="course-detail-page" data-room-slug="{{ course.slug|escapejs }}">
  <h2>{{ course.name }}</h2>
  <p>{{ course.description }}</p>

  <h3>Threads</h3>
  <ul class="styled-list" id="thread-list">
    {% for thread in threads %}
      {% include "rooms/partials/thread_item.html" %}
    {% endfor %}
  </ul>

  <h3>Start a New Thread</h3>
  <form method="post" class="card">
    {% csrf_token %}
    <div class="form-group">
      {{ form.title.label_tag }}
      {{ form.title }}
    </div>
    <div class="form-group">
      {{ form.content.label_tag }}
      {{ form.content }}
    </div>
    <button type="submit" class="btn btn-primary">Create Thread</button>
  </form>

</div>
{% endblock content %}
