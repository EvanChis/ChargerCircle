{% extends "base.html" %}

{% block content %}
<div class="content-wrapper">
  <h2>Edit Your Profile</h2>

  <form method="post" class="card">
    {% csrf_token %}
    <h3>Your Details</h3>
    <div class="form-group">
      <label for="{{ update_form.first_name.id_for_label }}">First Name</label>
      {{ update_form.first_name }}
    </div>
    <div class="form-group">
      <label for="{{ update_form.last_name.id_for_label }}">Last Name</label>
      {{ update_form.last_name }}
    </div>
    <div class="form-group">
      <label for="{{ update_form.age.id_for_label }}">Age</label>
      {{ update_form.age }}
    </div>
    <div class="form-group">
      <label for="{{ update_form.bio.id_for_label }}">Bio</label>
      {{ update_form.bio }}
    </div>

    <h3>Matching Preferences</h3>
    <p class="form-text">Control who you see on the Discover page.</p>
    <div class="form-group" style="display: flex; gap: 1rem;">
      <div style="flex: 1;">
        <label for="{{ update_form.match_age_min.id_for_label }}">Min Age</label>
        {{ update_form.match_age_min }}
      </div>
      <div style="flex: 1;">
        <label for="{{ update_form.match_age_max.id_for_label }}">Max Age</label>
        {{ update_form.match_age_max }}
      </div>
    </div>

    <h3>Your Interests</h3>
    <div class="form-group checkbox-group">
      {{ update_form.interests }}
    </div>

    <h3>Your Courses</h3>
    <div class="form-group checkbox-group">
      {{ update_form.courses }}
    </div>
    <button type="submit" class="btn btn-primary">Save Changes</button>
  </form>

  <div id="profile-editor-wrapper">
    {% include "accounts/partials/profile_editor.html" %}
  </div>

  <hr style="margin: 3rem 0; border: 0; border-top: 1px solid rgba(255,255,255,0.1);">

  <div class="card" style="border-color: var(--u-error); background: rgba(179, 38, 30, 0.05);">
    <h3 style="color: var(--u-error); margin-top: 0;">Account Deletion</h3>
    <p>Deleting your account is permanent and cannot be undone.</p>
    <form action="{% url 'delete_account' %}" method="post" data-confirm="Are you sure you want to delete your account? This action is permanent.">
      {% csrf_token %}
      <button type="submit" class="btn btn-danger">Delete Account</button>
    </form>
  </div>

</div>
{% endblock content %}
