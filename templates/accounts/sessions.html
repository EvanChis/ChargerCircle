{% extends "base.html" %}

{% comment %} Author: Oju {% endcomment %}
{% comment %} HTMX: This page does not contain specific HTMX functionality. It displays
      a list of the study sessions the user has joined and provides a button
      to navigate to the "Create Session" page. {% endcomment %}


{% block content %}
<div class="content-wrapper">
  <h2>Your Sessions</h2>

  <h3>My Sessions</h3>
  {% if my_sessions %}
    <ul class="styled-list">
      {% for session in my_sessions %}
        <li>
          <div style="display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap;">
            <span class="course-tag">{{ session.course.name }}</span>
            <a href="{% url 'session_detail' pk=session.pk %}">
              {{ session.topic }}
            </a>
          </div>
          <span class="meta">Hosted by {{ session.host.first_name }} â€¢ {{ session.participants.count }} participant{{ session.participants.count|pluralize }}</span>
        </li>
      {% endfor %}
    </ul>
    <div style="margin-top: 1rem;">
      <a href="{% url 'create_session' %}" class="btn btn-secondary">Create a New Session</a>
    </div>
  {% else %}
    <div class="card empty-state-card">
      <div class="empty-state-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
      </div>
      
      <h3 class="empty-state-title">No Sessions Yet</h3>
      <p class="empty-state-description">Sessions are live study groups or hangouts where you can collaborate with your connections in real-time!</p>
      
      <div class="empty-state-steps">
        <p class="steps-heading">Get started in 3 easy steps:</p>
        <ol class="empty-state-list">
          <li>Create a new session by clicking the button below</li>
          <li>Choose a <strong>course/topic</strong> and invite your connections</li>
          <li>Join the session and start collaborating together!</li>
        </ol>
      </div>
      
      <a href="{% url 'create_session' %}" class="btn btn-primary btn-lg">Create Your First Session</a>
    </div>
  {% endif %}

  </div>
{% endblock %}
